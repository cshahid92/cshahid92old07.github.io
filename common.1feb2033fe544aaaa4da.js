(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3zLz":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r=function(){function e(){}return e.prototype.ngOnInit=function(){},e}()},6233:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t("ug5D"))},CB3U:function(e,n,t){"use strict";t.r(n);var r=t("ZBkt"),l=t("MGeu");t.d(n,"AngularFireAuth",function(){return r.a}),t.d(n,"AngularFireAuthModule",function(){return l.a})},Oipj:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t("CB3U"))},kmKP:function(e,n,t){"use strict";t.d(n,"a",function(){return c}),t("Oipj"),t("6233");var r=t("F/XL"),l=t("67Y/"),u=t("15JJ"),o=t("CcnG"),a=t("ZBkt"),i=t("3iKN"),s=t("ZYCi"),c=function(){function e(e,n,t){var o=this;this.afAuth=e,this.afDb=n,this.router=t,this.uid=this.afAuth.authState.pipe(Object(l.a)(function(e){return e?e.uid:null})),this.isAdmin=this.uid.pipe(Object(u.a)(function(e){return e?(console.log(o.afDb.object("/retailers/"+e+"/role").valueChanges()),o.afDb.object("/retailers/"+e+"/role").valueChanges()):Object(r.a)(!1)}))}return e.prototype.loginUser=function(e,n){var t=this,r=!1;return this.afAuth.auth.signInWithEmailAndPassword(e,n).then(function(e){var n=e.user.uid;localStorage.setItem("userId",e.user.uid);var l=t.getUserRole(n);console.log("User role from login metheod..",l),r=!0,t.message=n}).catch(function(e){t.message=e.message}),console.log(r,"from service class"),r},e.prototype.loginUser1=function(e,n){var t=this;this.afAuth.auth.signInWithEmailAndPassword(e,n).then(function(e){var n=e.user.uid;localStorage.setItem("userId",e.user.uid),localStorage.setItem("isUserLogin","true");var r=t.getUserRole(n);console.log("User role from login metheod..",r),t.message=n,t.router.navigate(["/dashboard"])}).catch(function(e){t.message=e.message,alert(e.message)})},e.prototype.isAdminUser=function(){return!0},e.prototype.signOut=function(){this.afAuth.auth.signOut()},e.prototype.getUserRole=function(e){var n=this;this.afDb.object("retailers/"+e+"/role").valueChanges().subscribe(function(t){return n.getUserName(e),console.log("user value from getUserRole..is..",t),"true"===t?(console.log("Inside the if codition of getUserRole",t),localStorage.setItem("isAdmin","true"),!0):(console.log("user details",t),localStorage.setItem("isAdmin","false"),!1)})},e.prototype.getUserName=function(e){return this.afDb.object("retailers/"+e+"/displayName").valueChanges().subscribe(function(e){var n=String(e);localStorage.setItem("userName",n)})},e.prototype.getUserNameValue=function(){return localStorage.getItem("userName")},e.prototype.getUserRoleValue=function(){return localStorage.getItem("isAdmin")},e.prototype.getUserDetails=function(e){return this.distributor=null,this.afDb.object("retailers/"+e).valueChanges().subscribe(function(e){console.log("user details",e.role)})},e.prototype.login=function(e,n){return t=this,void 0,l=function(){var t,r,l=this;return function(e,n){var t,r,l,u,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(l=2&u[0]?r.return:u[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,u[1])).done)return l;switch(r=0,l&&(u=[2&u[0],l.value]),u[0]){case 0:case 1:l=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(l=(l=o.trys).length>0&&l[l.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!l||u[1]>l[0]&&u[1]<l[3])){o.label=u[1];break}if(6===u[0]&&o.label<l[1]){o.label=l[1],l=u;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(u);break}l[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(e,o)}catch(a){u=[6,a],r=0}finally{t=l=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.afAuth.auth.signInWithEmailAndPassword(e,n).then(function(e){var n=e.user.uid;localStorage.setItem("userId",e.user.uid);var r=l.getUserRole(n);console.log("User role from login metheod..",r),t=!0,l.message=n}).catch(function(e){l.message=e.message,t=!1})];case 1:return u.sent(),[3,3];case 2:return r=u.sent(),alert("Error!"+r.message),t=!1,[3,3];case 3:return[2,t]}})},new((r=void 0)||(r=Promise))(function(e,n){function u(e){try{a(l.next(e))}catch(t){n(t)}}function o(e){try{a(l.throw(e))}catch(t){n(t)}}function a(n){n.done?e(n.value):new r(function(e){e(n.value)}).then(u,o)}a((l=l.apply(t,[])).next())});var t,r,l},e.prototype.resetPassword=function(e){e||alert("Type in your email first"),this.afAuth.auth.sendPasswordResetEmail(e).then(function(){return alert("A password reset link has been sent to your email address")},function(e){return alert(e)}).catch(function(e){return alert("An error occurred while attempting to reset your password")})},e.ngInjectableDef=o.defineInjectable({factory:function(){return new e(o.inject(a.a),o.inject(i.a),o.inject(s.l))},token:e,providedIn:"root"}),e}()},rMXk:function(e,n,t){"use strict";var r=t("CcnG"),l=t("ZYCi"),u=t("Ip0R");t("3zLz"),t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a});var o=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function a(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,12,"div",[["class","col-xl-12"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,1,"h2",[["class","page-header"]],null,null,null,null,null)),(e()(),r["\u0275ted"](3,null,[" "," "])),(e()(),r["\u0275eld"](4,0,null,null,9,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,5,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(e()(),r["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-dashboard"]],null,null,null,null,null)),(e()(),r["\u0275eld"](7,0,null,null,3,"a",[["href","Javascript:void(0)"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==r["\u0275nov"](e,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),r["\u0275did"](8,671744,null,0,l.o,[l.l,l.a,u.j],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](9,1),(e()(),r["\u0275ted"](-1,null,["Dashboard"])),(e()(),r["\u0275eld"](11,0,null,null,2,"li",[["class","breadcrumb-item active"]],null,null,null,null,null)),(e()(),r["\u0275eld"](12,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](13,null,[" ",""]))],function(e,n){var t=e(n,9,0,"/dashboard");e(n,8,0,t)},function(e,n){var t=n.component;e(n,3,0,t.heading),e(n,7,0,r["\u0275nov"](n,8).target,r["\u0275nov"](n,8).href),e(n,12,0,r["\u0275inlineInterpolate"](1,"fa ",t.icon,"")),e(n,13,0,t.heading)})}},ug5D:function(e,n,t){"use strict";t.r(n);var r=t("3iKN"),l=t("r1H1"),u=t("ajRK"),o=t("TaJz"),a=t("RgTm"),i=t("o23d"),s=t("AkMW"),c=t("aEbr");t.d(n,"AngularFireDatabase",function(){return r.a}),t.d(n,"RealtimeDatabaseURL",function(){return r.b}),t.d(n,"listChanges",function(){return l.a}),t.d(n,"createListReference",function(){return u.a}),t.d(n,"snapshotChanges",function(){return o.a}),t.d(n,"stateChanges",function(){return a.a}),t.d(n,"auditTrail",function(){return i.a}),t.d(n,"fromRef",function(){return s.a}),t.d(n,"AngularFireDatabaseModule",function(){return c.a})}}]);